application:
  version: '0.0.1'
  name: 'kds-system'
  city: '${CITY_NAME:Москва}'
vaadin:
  launch-browser: true
  productionMode: ${VAADIN_PRODUCTION_MODE:false}   # false для разработки (bootRun), true для продакшена
  servlet:
    productionMode: ${VAADIN_PRODUCTION_MODE:false}
  frontend:
    hotdeploy: true
    compatibilityMode: false
server:
  port: ${SERVER_PORT:8000}
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param   # добавьте ?trace=true к URL для отображения stacktrace
management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: always
  health:
    db:
      enabled: true
# Подключения к БД городов (мультигород)
parnas:
  datasource:
    url: ${PARNAS_DATASOURCE_URL:jdbc:postgresql://217.18.61.192:5432/kds-spb}
    username: ${PARNAS_DATASOURCE_USERNAME:adm}
    password: ${PARNAS_DATASOURCE_PASSWORD:12341234s}
ukhta:
  datasource:
    url: ${UKHTA_DATASOURCE_URL:jdbc:postgresql://217.18.61.192:5432/kds-ukhta}
    username: ${UKHTA_DATASOURCE_USERNAME:adm}
    password: ${UKHTA_DATASOURCE_PASSWORD:12341234s}

# Telegram-бот для уведомлений курьеров о новых заказах
# Создайте бота через @BotFather, добавьте его в чат курьеров
# Chat ID получите через @userinfobot после добавления бота в чат (id для группы или пользователя)
telegram:
  bot:
    token: ${TELEGRAM_BOT_TOKEN:7756988657:AAHhXx-VCvzrTOfpwSgWroG89FYaCVJQLYQ}   # Токен от @BotFather
    chat-id: ${TELEGRAM_CHAT_ID:-5265826519}   # Один чат (для обратной совместимости)
    chat-ids: ${TELEGRAM_CHAT_IDS:} # Несколько чатов через запятую: -1001,-1002,-1003

spring:
  datasource:
    url: ${SQL_URL:jdbc:postgresql://217.18.61.192:5432/kds-spb}
    username: ${SQL_USERNAME:adm}
    password: ${SQL_PASSWORD:12341234s}
    driver-class-name: org.postgresql.Driver
  jpa:
    database: postgresql
    show-sql: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        id:
          new_generator_mappings: false
          optimizer: none
  vaadin:
    servlet-mapping: /vaadin/*
  liquibase:
    enabled: true
    change-log: classpath:/liquibase/db.changelog-master.yaml
